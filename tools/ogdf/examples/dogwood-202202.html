<!-- python3 -m http.server 1234 -->
<!-- Open http://localhost:1234 in the browser -->
<script crossorigin="anonymous" src="https://biowasm.com/cdn/v3/aioli.js"></script>
<script type="module">
const CLI = await new Aioli([
	{
		tool: "energybased",
		version: "123",
		urlPrefix: "http://localhost:1234"
	}
], { debug: true });

await CLI.mount({
    name: "sierpinski_04.gml",
    data: `graph [\n Creator "makegml" directed 0 label ""\n  node [ id 1 ]\n  node [ id 2 ]\n  node [ id 3 ]\n  node [ id 4 ]\n  node [ id 5 ]\n  node [ id 6 ]\n  node [ id 7 ]\n  node [ id 8 ]\n  node [ id 9 ]\n  node [ id 10 ]\n  node [ id 11 ]\n  node [ id 12 ]\n  node [ id 13 ]\n  node [ id 14 ]\n  node [ id 15 ]\n  node [ id 16 ]\n  node [ id 17 ]\n  node [ id 18 ]\n  node [ id 19 ]\n  node [ id 20 ]\n  node [ id 21 ]\n  node [ id 22 ]\n  node [ id 23 ]\n  node [ id 24 ]\n  node [ id 25 ]\n  node [ id 26 ]\n  node [ id 27 ]\n  node [ id 28 ]\n  node [ id 29 ]\n  node [ id 30 ]\n  node [ id 31 ]\n  node [ id 32 ]\n  node [ id 33 ]\n  node [ id 34 ]\n  node [ id 35 ]\n  node [ id 36 ]\n  node [ id 37 ]\n  node [ id 38 ]\n  node [ id 39 ]\n  node [ id 40 ]\n  node [ id 41 ]\n  node [ id 42 ]\n  node [ id 43 ]\n  node [ id 44 ]\n  node [ id 45 ]\n  node [ id 46 ]\n  node [ id 47 ]\n  node [ id 48 ]\n  node [ id 49 ]\n  node [ id 50 ]\n  node [ id 51 ]\n  node [ id 52 ]\n  node [ id 53 ]\n  node [ id 54 ]\n  node [ id 55 ]\n  node [ id 56 ]\n  node [ id 57 ]\n  node [ id 58 ]\n  node [ id 59 ]\n  node [ id 60 ]\n  node [ id 61 ]\n  node [ id 62 ]\n  node [ id 63 ]\n  node [ id 64 ]\n  node [ id 65 ]\n  node [ id 66 ]\n  node [ id 67 ]\n  node [ id 68 ]\n  node [ id 69 ]\n  node [ id 70 ]\n  node [ id 71 ]\n  node [ id 72 ]\n  node [ id 73 ]\n  node [ id 74 ]\n  node [ id 75 ]\n  node [ id 76 ]\n  node [ id 77 ]\n  node [ id 78 ]\n  node [ id 79 ]\n  node [ id 80 ]\n  node [ id 81 ]\n  node [ id 82 ]\n  node [ id 83 ]\n  node [ id 84 ]\n  node [ id 85 ]\n  node [ id 86 ]\n  node [ id 87 ]\n  node [ id 88 ]\n  node [ id 89 ]\n  node [ id 90 ]\n  node [ id 91 ]\n  node [ id 92 ]\n  node [ id 93 ]\n  node [ id 94 ]\n  node [ id 95 ]\n  node [ id 96 ]\n  node [ id 97 ]\n  node [ id 98 ]\n  node [ id 99 ]\n  node [ id 100 ]\n  node [ id 101 ]\n  node [ id 102 ]\n  node [ id 103 ]\n  node [ id 104 ]\n  node [ id 105 ]\n  node [ id 106 ]\n  node [ id 107 ]\n  node [ id 108 ]\n  node [ id 109 ]\n  node [ id 110 ]\n  node [ id 111 ]\n  node [ id 112 ]\n  node [ id 113 ]\n  node [ id 114 ]\n  node [ id 115 ]\n  node [ id 116 ]\n  node [ id 117 ]\n  node [ id 118 ]\n  node [ id 119 ]\n  node [ id 120 ]\n  node [ id 121 ]\n  node [ id 122 ]\n  node [ id 123 ]\nedge [ source 1 target 13 ]\nedge [ source 1 target 14 ]\nedge [ source 2 target 52 ]\nedge [ source 2 target 53 ]\nedge [ source 3 target 91 ]\nedge [ source 3 target 92 ]\nedge [ source 4 target 25 ]\nedge [ source 4 target 26 ]\nedge [ source 4 target 64 ]\nedge [ source 4 target 65 ]\nedge [ source 5 target 37 ]\nedge [ source 5 target 38 ]\nedge [ source 5 target 103 ]\nedge [ source 5 target 104 ]\nedge [ source 6 target 76 ]\nedge [ source 6 target 77 ]\nedge [ source 6 target 115 ]\nedge [ source 6 target 116 ]\nedge [ source 7 target 16 ]\nedge [ source 7 target 17 ]\nedge [ source 7 target 28 ]\nedge [ source 7 target 29 ]\nedge [ source 8 target 19 ]\nedge [ source 8 target 20 ]\nedge [ source 8 target 40 ]\nedge [ source 8 target 41 ]\nedge [ source 9 target 31 ]\nedge [ source 9 target 32 ]\nedge [ source 9 target 43 ]\nedge [ source 9 target 44 ]\nedge [ source 10 target 13 ]\nedge [ source 10 target 15 ]\nedge [ source 10 target 16 ]\nedge [ source 10 target 18 ]\nedge [ source 11 target 14 ]\nedge [ source 11 target 15 ]\nedge [ source 11 target 19 ]\nedge [ source 11 target 21 ]\nedge [ source 12 target 17 ]\nedge [ source 12 target 18 ]\nedge [ source 12 target 20 ]\nedge [ source 12 target 21 ]\nedge [ source 13 target 14 ]\nedge [ source 13 target 15 ]\nedge [ source 14 target 15 ]\nedge [ source 16 target 17 ]\nedge [ source 16 target 18 ]\nedge [ source 17 target 18 ]\nedge [ source 19 target 20 ]\nedge [ source 19 target 21 ]\nedge [ source 20 target 21 ]\nedge [ source 22 target 25 ]\nedge [ source 22 target 27 ]\nedge [ source 22 target 28 ]\nedge [ source 22 target 30 ]\nedge [ source 23 target 26 ]\nedge [ source 23 target 27 ]\nedge [ source 23 target 31 ]\nedge [ source 23 target 33 ]\nedge [ source 24 target 29 ]\nedge [ source 24 target 30 ]\nedge [ source 24 target 32 ]\nedge [ source 24 target 33 ]\nedge [ source 25 target 26 ]\nedge [ source 25 target 27 ]\nedge [ source 26 target 27 ]\nedge [ source 28 target 29 ]\nedge [ source 28 target 30 ]\nedge [ source 29 target 30 ]\nedge [ source 31 target 32 ]\nedge [ source 31 target 33 ]\nedge [ source 32 target 33 ]\nedge [ source 34 target 37 ]\nedge [ source 34 target 39 ]\nedge [ source 34 target 40 ]\nedge [ source 34 target 42 ]\nedge [ source 35 target 38 ]\nedge [ source 35 target 39 ]\nedge [ source 35 target 43 ]\nedge [ source 35 target 45 ]\nedge [ source 36 target 41 ]\nedge [ source 36 target 42 ]\nedge [ source 36 target 44 ]\nedge [ source 36 target 45 ]\nedge [ source 37 target 38 ]\nedge [ source 37 target 39 ]\nedge [ source 38 target 39 ]\nedge [ source 40 target 41 ]\nedge [ source 40 target 42 ]\nedge [ source 41 target 42 ]\nedge [ source 43 target 44 ]\nedge [ source 43 target 45 ]\nedge [ source 44 target 45 ]\nedge [ source 46 target 55 ]\nedge [ source 46 target 56 ]\nedge [ source 46 target 67 ]\nedge [ source 46 target 68 ]\nedge [ source 47 target 58 ]\nedge [ source 47 target 59 ]\nedge [ source 47 target 79 ]\nedge [ source 47 target 80 ]\nedge [ source 48 target 70 ]\nedge [ source 48 target 71 ]\nedge [ source 48 target 82 ]\nedge [ source 48 target 83 ]\nedge [ source 49 target 52 ]\nedge [ source 49 target 54 ]\nedge [ source 49 target 55 ]\nedge [ source 49 target 57 ]\nedge [ source 50 target 53 ]\nedge [ source 50 target 54 ]\nedge [ source 50 target 58 ]\nedge [ source 50 target 60 ]\nedge [ source 51 target 56 ]\nedge [ source 51 target 57 ]\nedge [ source 51 target 59 ]\nedge [ source 51 target 60 ]\nedge [ source 52 target 53 ]\nedge [ source 52 target 54 ]\nedge [ source 53 target 54 ]\nedge [ source 55 target 56 ]\nedge [ source 55 target 57 ]\nedge [ source 56 target 57 ]\nedge [ source 58 target 59 ]\nedge [ source 58 target 60 ]\nedge [ source 59 target 60 ]\nedge [ source 61 target 64 ]\nedge [ source 61 target 66 ]\nedge [ source 61 target 67 ]\nedge [ source 61 target 69 ]\nedge [ source 62 target 65 ]\nedge [ source 62 target 66 ]\nedge [ source 62 target 70 ]\nedge [ source 62 target 72 ]\nedge [ source 63 target 68 ]\nedge [ source 63 target 69 ]\nedge [ source 63 target 71 ]\nedge [ source 63 target 72 ]\nedge [ source 64 target 65 ]\nedge [ source 64 target 66 ]\nedge [ source 65 target 66 ]\nedge [ source 67 target 68 ]\nedge [ source 67 target 69 ]\nedge [ source 68 target 69 ]\nedge [ source 70 target 71 ]\nedge [ source 70 target 72 ]\nedge [ source 71 target 72 ]\nedge [ source 73 target 76 ]\nedge [ source 73 target 78 ]\nedge [ source 73 target 79 ]\nedge [ source 73 target 81 ]\nedge [ source 74 target 77 ]\nedge [ source 74 target 78 ]\nedge [ source 74 target 82 ]\nedge [ source 74 target 84 ]\nedge [ source 75 target 80 ]\nedge [ source 75 target 81 ]\nedge [ source 75 target 83 ]\nedge [ source 75 target 84 ]\nedge [ source 76 target 77 ]\nedge [ source 76 target 78 ]\nedge [ source 77 target 78 ]\nedge [ source 79 target 80 ]\nedge [ source 79 target 81 ]\nedge [ source 80 target 81 ]\nedge [ source 82 target 83 ]\nedge [ source 82 target 84 ]\nedge [ source 83 target 84 ]\nedge [ source 85 target 94 ]\nedge [ source 85 target 95 ]\nedge [ source 85 target 106 ]\nedge [ source 85 target 107 ]\nedge [ source 86 target 97 ]\nedge [ source 86 target 98 ]\nedge [ source 86 target 118 ]\nedge [ source 86 target 119 ]\nedge [ source 87 target 109 ]\nedge [ source 87 target 110 ]\nedge [ source 87 target 121 ]\nedge [ source 87 target 122 ]\nedge [ source 88 target 91 ]\nedge [ source 88 target 93 ]\nedge [ source 88 target 94 ]\nedge [ source 88 target 96 ]\nedge [ source 89 target 92 ]\nedge [ source 89 target 93 ]\nedge [ source 89 target 97 ]\nedge [ source 89 target 99 ]\nedge [ source 90 target 95 ]\nedge [ source 90 target 96 ]\nedge [ source 90 target 98 ]\nedge [ source 90 target 99 ]\nedge [ source 91 target 92 ]\nedge [ source 91 target 93 ]\nedge [ source 92 target 93 ]\nedge [ source 94 target 95 ]\nedge [ source 94 target 96 ]\nedge [ source 95 target 96 ]\nedge [ source 97 target 98 ]\nedge [ source 97 target 99 ]\nedge [ source 98 target 99 ]\nedge [ source 100 target 103 ]\nedge [ source 100 target 105 ]\nedge [ source 100 target 106 ]\nedge [ source 100 target 108 ]\nedge [ source 101 target 104 ]\nedge [ source 101 target 105 ]\nedge [ source 101 target 109 ]\nedge [ source 101 target 111 ]\nedge [ source 102 target 107 ]\nedge [ source 102 target 108 ]\nedge [ source 102 target 110 ]\nedge [ source 102 target 111 ]\nedge [ source 103 target 104 ]\nedge [ source 103 target 105 ]\nedge [ source 104 target 105 ]\nedge [ source 106 target 107 ]\nedge [ source 106 target 108 ]\nedge [ source 107 target 108 ]\nedge [ source 109 target 110 ]\nedge [ source 109 target 111 ]\nedge [ source 110 target 111 ]\nedge [ source 112 target 115 ]\nedge [ source 112 target 117 ]\nedge [ source 112 target 118 ]\nedge [ source 112 target 120 ]\nedge [ source 113 target 116 ]\nedge [ source 113 target 117 ]\nedge [ source 113 target 121 ]\nedge [ source 113 target 123 ]\nedge [ source 114 target 119 ]\nedge [ source 114 target 120 ]\nedge [ source 114 target 122 ]\nedge [ source 114 target 123 ]\nedge [ source 115 target 116 ]\nedge [ source 115 target 117 ]\nedge [ source 116 target 117 ]\nedge [ source 118 target 119 ]\nedge [ source 118 target 120 ]\nedge [ source 119 target 120 ]\nedge [ source 121 target 122 ]\nedge [ source 121 target 123 ]\nedge [ source 122 target 123 ]\n]\n`
});

const output = await CLI.exec("energybased");
document.getElementById("output").innerHTML = output;

// Files generated
console.log(await CLI.ls("."))

// Load SVG into <img>
let svg = await CLI.cat("output-energybased-sierpinski-layout.svg");
let blob = new Blob([svg], {type: 'image/svg+xml'});
let url = URL.createObjectURL(blob);
let image = document.getElementById('img');
image.src = url;
image.addEventListener('load', () => URL.revokeObjectURL(url), {once: true});
</script>

<h4>Output</h4>
<pre id="output"></pre>

<h4>Image</h4>
<img id="img" />
