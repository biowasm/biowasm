<script>
import Aioli from "../../dist/aioli.mjs";

const CLI = await new Aioli([
	{
		tool: "deleteme",
		version: "0.01",
		urlPrefix: "http://localhost:80/tools/ogdf/src"
	}
], { debug: true, env: "stg" });

await CLI.mount({
    name: "sierpinski_04.gml",
    data: `graph [
        Creator "makegml" directed 0 label ""
         node [ id 1 ]
         node [ id 2 ]
         node [ id 3 ]
         node [ id 4 ]
         node [ id 5 ]
         node [ id 6 ]
         node [ id 7 ]
         node [ id 8 ]
         node [ id 9 ]
         node [ id 10 ]
         node [ id 11 ]
         node [ id 12 ]
         node [ id 13 ]
         node [ id 14 ]
         node [ id 15 ]
         node [ id 16 ]
         node [ id 17 ]
         node [ id 18 ]
         node [ id 19 ]
         node [ id 20 ]
         node [ id 21 ]
         node [ id 22 ]
         node [ id 23 ]
         node [ id 24 ]
         node [ id 25 ]
         node [ id 26 ]
         node [ id 27 ]
         node [ id 28 ]
         node [ id 29 ]
         node [ id 30 ]
         node [ id 31 ]
         node [ id 32 ]
         node [ id 33 ]
         node [ id 34 ]
         node [ id 35 ]
         node [ id 36 ]
         node [ id 37 ]
         node [ id 38 ]
         node [ id 39 ]
         node [ id 40 ]
         node [ id 41 ]
         node [ id 42 ]
         node [ id 43 ]
         node [ id 44 ]
         node [ id 45 ]
         node [ id 46 ]
         node [ id 47 ]
         node [ id 48 ]
         node [ id 49 ]
         node [ id 50 ]
         node [ id 51 ]
         node [ id 52 ]
         node [ id 53 ]
         node [ id 54 ]
         node [ id 55 ]
         node [ id 56 ]
         node [ id 57 ]
         node [ id 58 ]
         node [ id 59 ]
         node [ id 60 ]
         node [ id 61 ]
         node [ id 62 ]
         node [ id 63 ]
         node [ id 64 ]
         node [ id 65 ]
         node [ id 66 ]
         node [ id 67 ]
         node [ id 68 ]
         node [ id 69 ]
         node [ id 70 ]
         node [ id 71 ]
         node [ id 72 ]
         node [ id 73 ]
         node [ id 74 ]
         node [ id 75 ]
         node [ id 76 ]
         node [ id 77 ]
         node [ id 78 ]
         node [ id 79 ]
         node [ id 80 ]
         node [ id 81 ]
         node [ id 82 ]
         node [ id 83 ]
         node [ id 84 ]
         node [ id 85 ]
         node [ id 86 ]
         node [ id 87 ]
         node [ id 88 ]
         node [ id 89 ]
         node [ id 90 ]
         node [ id 91 ]
         node [ id 92 ]
         node [ id 93 ]
         node [ id 94 ]
         node [ id 95 ]
         node [ id 96 ]
         node [ id 97 ]
         node [ id 98 ]
         node [ id 99 ]
         node [ id 100 ]
         node [ id 101 ]
         node [ id 102 ]
         node [ id 103 ]
         node [ id 104 ]
         node [ id 105 ]
         node [ id 106 ]
         node [ id 107 ]
         node [ id 108 ]
         node [ id 109 ]
         node [ id 110 ]
         node [ id 111 ]
         node [ id 112 ]
         node [ id 113 ]
         node [ id 114 ]
         node [ id 115 ]
         node [ id 116 ]
         node [ id 117 ]
         node [ id 118 ]
         node [ id 119 ]
         node [ id 120 ]
         node [ id 121 ]
         node [ id 122 ]
         node [ id 123 ]
       edge [ source 1 target 13 ]
       edge [ source 1 target 14 ]
       edge [ source 2 target 52 ]
       edge [ source 2 target 53 ]
       edge [ source 3 target 91 ]
       edge [ source 3 target 92 ]
       edge [ source 4 target 25 ]
       edge [ source 4 target 26 ]
       edge [ source 4 target 64 ]
       edge [ source 4 target 65 ]
       edge [ source 5 target 37 ]
       edge [ source 5 target 38 ]
       edge [ source 5 target 103 ]
       edge [ source 5 target 104 ]
       edge [ source 6 target 76 ]
       edge [ source 6 target 77 ]
       edge [ source 6 target 115 ]
       edge [ source 6 target 116 ]
       edge [ source 7 target 16 ]
       edge [ source 7 target 17 ]
       edge [ source 7 target 28 ]
       edge [ source 7 target 29 ]
       edge [ source 8 target 19 ]
       edge [ source 8 target 20 ]
       edge [ source 8 target 40 ]
       edge [ source 8 target 41 ]
       edge [ source 9 target 31 ]
       edge [ source 9 target 32 ]
       edge [ source 9 target 43 ]
       edge [ source 9 target 44 ]
       edge [ source 10 target 13 ]
       edge [ source 10 target 15 ]
       edge [ source 10 target 16 ]
       edge [ source 10 target 18 ]
       edge [ source 11 target 14 ]
       edge [ source 11 target 15 ]
       edge [ source 11 target 19 ]
       edge [ source 11 target 21 ]
       edge [ source 12 target 17 ]
       edge [ source 12 target 18 ]
       edge [ source 12 target 20 ]
       edge [ source 12 target 21 ]
       edge [ source 13 target 14 ]
       edge [ source 13 target 15 ]
       edge [ source 14 target 15 ]
       edge [ source 16 target 17 ]
       edge [ source 16 target 18 ]
       edge [ source 17 target 18 ]
       edge [ source 19 target 20 ]
       edge [ source 19 target 21 ]
       edge [ source 20 target 21 ]
       edge [ source 22 target 25 ]
       edge [ source 22 target 27 ]
       edge [ source 22 target 28 ]
       edge [ source 22 target 30 ]
       edge [ source 23 target 26 ]
       edge [ source 23 target 27 ]
       edge [ source 23 target 31 ]
       edge [ source 23 target 33 ]
       edge [ source 24 target 29 ]
       edge [ source 24 target 30 ]
       edge [ source 24 target 32 ]
       edge [ source 24 target 33 ]
       edge [ source 25 target 26 ]
       edge [ source 25 target 27 ]
       edge [ source 26 target 27 ]
       edge [ source 28 target 29 ]
       edge [ source 28 target 30 ]
       edge [ source 29 target 30 ]
       edge [ source 31 target 32 ]
       edge [ source 31 target 33 ]
       edge [ source 32 target 33 ]
       edge [ source 34 target 37 ]
       edge [ source 34 target 39 ]
       edge [ source 34 target 40 ]
       edge [ source 34 target 42 ]
       edge [ source 35 target 38 ]
       edge [ source 35 target 39 ]
       edge [ source 35 target 43 ]
       edge [ source 35 target 45 ]
       edge [ source 36 target 41 ]
       edge [ source 36 target 42 ]
       edge [ source 36 target 44 ]
       edge [ source 36 target 45 ]
       edge [ source 37 target 38 ]
       edge [ source 37 target 39 ]
       edge [ source 38 target 39 ]
       edge [ source 40 target 41 ]
       edge [ source 40 target 42 ]
       edge [ source 41 target 42 ]
       edge [ source 43 target 44 ]
       edge [ source 43 target 45 ]
       edge [ source 44 target 45 ]
       edge [ source 46 target 55 ]
       edge [ source 46 target 56 ]
       edge [ source 46 target 67 ]
       edge [ source 46 target 68 ]
       edge [ source 47 target 58 ]
       edge [ source 47 target 59 ]
       edge [ source 47 target 79 ]
       edge [ source 47 target 80 ]
       edge [ source 48 target 70 ]
       edge [ source 48 target 71 ]
       edge [ source 48 target 82 ]
       edge [ source 48 target 83 ]
       edge [ source 49 target 52 ]
       edge [ source 49 target 54 ]
       edge [ source 49 target 55 ]
       edge [ source 49 target 57 ]
       edge [ source 50 target 53 ]
       edge [ source 50 target 54 ]
       edge [ source 50 target 58 ]
       edge [ source 50 target 60 ]
       edge [ source 51 target 56 ]
       edge [ source 51 target 57 ]
       edge [ source 51 target 59 ]
       edge [ source 51 target 60 ]
       edge [ source 52 target 53 ]
       edge [ source 52 target 54 ]
       edge [ source 53 target 54 ]
       edge [ source 55 target 56 ]
       edge [ source 55 target 57 ]
       edge [ source 56 target 57 ]
       edge [ source 58 target 59 ]
       edge [ source 58 target 60 ]
       edge [ source 59 target 60 ]
       edge [ source 61 target 64 ]
       edge [ source 61 target 66 ]
       edge [ source 61 target 67 ]
       edge [ source 61 target 69 ]
       edge [ source 62 target 65 ]
       edge [ source 62 target 66 ]
       edge [ source 62 target 70 ]
       edge [ source 62 target 72 ]
       edge [ source 63 target 68 ]
       edge [ source 63 target 69 ]
       edge [ source 63 target 71 ]
       edge [ source 63 target 72 ]
       edge [ source 64 target 65 ]
       edge [ source 64 target 66 ]
       edge [ source 65 target 66 ]
       edge [ source 67 target 68 ]
       edge [ source 67 target 69 ]
       edge [ source 68 target 69 ]
       edge [ source 70 target 71 ]
       edge [ source 70 target 72 ]
       edge [ source 71 target 72 ]
       edge [ source 73 target 76 ]
       edge [ source 73 target 78 ]
       edge [ source 73 target 79 ]
       edge [ source 73 target 81 ]
       edge [ source 74 target 77 ]
       edge [ source 74 target 78 ]
       edge [ source 74 target 82 ]
       edge [ source 74 target 84 ]
       edge [ source 75 target 80 ]
       edge [ source 75 target 81 ]
       edge [ source 75 target 83 ]
       edge [ source 75 target 84 ]
       edge [ source 76 target 77 ]
       edge [ source 76 target 78 ]
       edge [ source 77 target 78 ]
       edge [ source 79 target 80 ]
       edge [ source 79 target 81 ]
       edge [ source 80 target 81 ]
       edge [ source 82 target 83 ]
       edge [ source 82 target 84 ]
       edge [ source 83 target 84 ]
       edge [ source 85 target 94 ]
       edge [ source 85 target 95 ]
       edge [ source 85 target 106 ]
       edge [ source 85 target 107 ]
       edge [ source 86 target 97 ]
       edge [ source 86 target 98 ]
       edge [ source 86 target 118 ]
       edge [ source 86 target 119 ]
       edge [ source 87 target 109 ]
       edge [ source 87 target 110 ]
       edge [ source 87 target 121 ]
       edge [ source 87 target 122 ]
       edge [ source 88 target 91 ]
       edge [ source 88 target 93 ]
       edge [ source 88 target 94 ]
       edge [ source 88 target 96 ]
       edge [ source 89 target 92 ]
       edge [ source 89 target 93 ]
       edge [ source 89 target 97 ]
       edge [ source 89 target 99 ]
       edge [ source 90 target 95 ]
       edge [ source 90 target 96 ]
       edge [ source 90 target 98 ]
       edge [ source 90 target 99 ]
       edge [ source 91 target 92 ]
       edge [ source 91 target 93 ]
       edge [ source 92 target 93 ]
       edge [ source 94 target 95 ]
       edge [ source 94 target 96 ]
       edge [ source 95 target 96 ]
       edge [ source 97 target 98 ]
       edge [ source 97 target 99 ]
       edge [ source 98 target 99 ]
       edge [ source 100 target 103 ]
       edge [ source 100 target 105 ]
       edge [ source 100 target 106 ]
       edge [ source 100 target 108 ]
       edge [ source 101 target 104 ]
       edge [ source 101 target 105 ]
       edge [ source 101 target 109 ]
       edge [ source 101 target 111 ]
       edge [ source 102 target 107 ]
       edge [ source 102 target 108 ]
       edge [ source 102 target 110 ]
       edge [ source 102 target 111 ]
       edge [ source 103 target 104 ]
       edge [ source 103 target 105 ]
       edge [ source 104 target 105 ]
       edge [ source 106 target 107 ]
       edge [ source 106 target 108 ]
       edge [ source 107 target 108 ]
       edge [ source 109 target 110 ]
       edge [ source 109 target 111 ]
       edge [ source 110 target 111 ]
       edge [ source 112 target 115 ]
       edge [ source 112 target 117 ]
       edge [ source 112 target 118 ]
       edge [ source 112 target 120 ]
       edge [ source 113 target 116 ]
       edge [ source 113 target 117 ]
       edge [ source 113 target 121 ]
       edge [ source 113 target 123 ]
       edge [ source 114 target 119 ]
       edge [ source 114 target 120 ]
       edge [ source 114 target 122 ]
       edge [ source 114 target 123 ]
       edge [ source 115 target 116 ]
       edge [ source 115 target 117 ]
       edge [ source 116 target 117 ]
       edge [ source 118 target 119 ]
       edge [ source 118 target 120 ]
       edge [ source 119 target 120 ]
       edge [ source 121 target 122 ]
       edge [ source 121 target 123 ]
       edge [ source 122 target 123 ]
       ]`
})

const output = await CLI.exec("deleteme");
document.getElementById("output").innerHTML = output;

console.log(await CLI.ls("."))

let svg = await CLI.cat("output-energybased-sierpinski-layout.svg");
let blob = new Blob([svg], {type: 'image/svg+xml'});
let url = URL.createObjectURL(blob);
let image = document.getElementById('img');
image.src = url;
image.addEventListener('load', () => URL.revokeObjectURL(url), {once: true});
</script>
